<%# search bar component - begin of script -BL %>
  <%= render "shared/search_bar" %>

<%# grid system to display venues %>
  <h1> Spaces close to you... </h1>
  <div class="row">
      <% @venues.each do |venue| %>
        <div class="venue-card mb-3" data-controller="favorite">
            <div class="image">
              <img class="img-properties-form" src="<%= venue.image_urls.first %>" alt="Venue-picture">
                <div>
                  <% if venue.photos.attached? %>
                  <div>
                    <% venue.photos.each do |photo| %>
                    <%= cl_image_tag photo.key %>
                    <% end %>
                  </div>
                  <% end %>
                  </div>

                  <div class="favorite-heart">
                    <% favorite = Favorite.find_by(venue: venue) %>
                      <% if favorite && favorite.liked %>
                        <%= link_to favorite_venue_path(venue, favorite: favorite), remote: true, data: { action: "click->favorite#favorite", turbo_method: :patch } do %>
                          <i class="bi bi-bookmark-heart" data-favorite-target="heartIcon"></i>
                        <% end %>
                      <% else %>
                        <%= link_to favorite_venue_path(venue, favorite: favorite), remote: true, data: { action: "click->favorite#favorite", turbo_method: :patch } do %>
                          <i class="bi bi-bookmark-heart-fill" data-favorite-target="heartIcon"></i>
                        <% end %>
                      <% end %>
                  </div>
            </div>

              <div class="info">
                <div class="mt-3">
                  <h6 style="width:35%;"><%= venue.name %></h6>
                  <p style="width:45%;">
                  <% 5.times do %>
                    <i class="bi bi-star-fill" style="color: #FF8500; font-size: 17px;"></i>
                    <% end %></p>
                  <p style="width:20%;"><i class= "bi-wifi"> 200 mbit/s</i></p>
                </div>

                <div class="mt-2 mb-2">
                  <p  style="width:35%;"><%= venue.overview.truncate(20) %></p>
                  <p style="width:45%;"><i class= "bi-person-add"> 12 <strong>seats available</strong></i></p>
                  <p style="width:20%;"><i class= "bi-cursor"> 600 m</i></p>
                </div>
            </div>
        </div>
      <% end %>
  </div>
